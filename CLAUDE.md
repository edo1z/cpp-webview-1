# C++ Webview プロジェクト

このプロジェクトはC++とWebviewを使用したGUIアプリケーション開発プロジェクトです。

## 開発環境
- OS: Windows 11 + WSL2 (Ubuntu)
- 言語: C++
- GUI: Webview (Qt6は使用しません)

## ビルド設定
- ビルドシステム: CMakeを使用
- C++標準: C++17以上を推奨
- コンパイラ: GCC/Clang

## プロジェクト構造
```
.
├── applications/      # 各学習アプリケーション
│   ├── 01_hello_world/
│   │   ├── CMakeLists.txt
│   │   ├── README.md
│   │   ├── build/       # ビルド出力
│   │   ├── include/     # ヘッダーファイル
│   │   ├── src/         # ソースコード
│   │   ├── tests/       # テストコード
│   │   └── web/         # HTML/JS/CSSリソース
│   └── 02_counter/      # (以降同様の構造)
├── CLAUDE.md         # プロジェクト全体の指針
└── README.md         # プロジェクト概要
```

各アプリケーションは独立したCMakeプロジェクトとして構成され、個別にビルド可能です。

## コーディング規約
- インデント: スペース4つ
- 命名規則:
  - クラス名: PascalCase
  - 関数名: camelCase
  - 変数名: snake_case
  - 定数: UPPER_SNAKE_CASE

## Webview実装時の注意事項
- webviewライブラリを使用（https://github.com/webview/webview）
- JavaScriptとC++間の通信は`webview::bind`を使用してバインディング
- セキュリティ: 外部URLへのアクセスは必要最小限に制限
- プラットフォーム別の依存関係:
  - Linux: GTK3とWebKit2GTK（`sudo apt install libgtk-3-dev libwebkit2gtk-4.1-dev`）
  - macOS: WebKitフレームワーク（標準搭載）
  - Windows: Microsoft Edge WebView2（別途インストール）

## ビルド手順

### 個別アプリケーションのビルド
```bash
cd applications/01_hello_world
mkdir build
cd build
cmake ..
make
./hello_world  # 実行
```

### テストの実行
```bash
ctest  # buildディレクトリ内で実行
# または
./hello_world_test
```

## テスト
- Google Testを使用してユニットテストを実装
- 各アプリケーションのbuildディレクトリ内で`ctest`または個別の実行ファイルで実行
- TDDサイクルに従い、Red→Green→Refactorの順で開発

## 開発プラクティス

### TDD（テスト駆動開発）
**t-wada流のTDDで開発を進める**
1. **Red**: 失敗するテストを書く
2. **Green**: テストを通す最小限の実装
3. **Refactor**: コードを改善

### コミット粒度
- 機能単位で小まめにコミット
- 各ステップ（Red→Green→Refactor）でコミットすることを推奨

### 品質保証
- **コミット前の必須確認事項**:
  - 全てのテストがパスすることを確認
  - テストをパスさせるための無益な修正は行わない
  - ビルドエラー・警告を修正してからコミット
  - **LSPツールのエラー・警告チェック**:
    ```bash
    # アプリケーションディレクトリ内で実行
    cd applications/01_hello_world
    
    # clang-tidyで全ソースファイルの警告を確認
    clang-tidy src/*.cpp tests/*.cpp -- \
      -I./include \
      -I./build/_deps/googletest-src/googletest/include \
      -I./build/_deps/webview-src \
      -x c++ -std=c++17 2>&1 | \
      grep -E "(warning|error):" | grep -v "generated"
    
    # 特定のファイルだけチェックする場合
    clang-tidy src/webview_app.cpp -- -I./include -x c++ -std=c++17
    ```
  - 上記コマンドで検出されたエラー・警告を全て修正してからコミット
  - 主な警告タイプ:
    - `cppcoreguidelines-special-member-functions`: Rule of Five（デストラクタ定義時は5つの特殊メンバ関数を考慮）
    - `modernize-*`: C++17の機能を活用した改善提案
    - `bugprone-*`: バグになりやすいコードパターン
    - `performance-*`: パフォーマンス改善の提案
- メモリリークチェックを定期的に実施（Valgrind等を使用）

## 学習プロジェクト一覧と進捗

C++とWebviewを段階的に学習するための30個のアプリケーションプロジェクトです。

### アプリケーションの作成方法
1. `applications`ディレクトリに新しいフォルダを作成（例: `02_counter`）
2. 01_hello_worldの構造を参考に必要なファイルを配置
3. TDDで開発を進める
4. 完成後、下記のチェックリストを更新

### 基礎編（02-10）
- [x] **01. Hello World** - 基本的なWebview表示 ✅ 完了
- [x] **02. カウンターアプリ** - ボタンクリックで数値増減、JS↔C++通信の基礎 ✅ 完了
- [x] **03. テキストエコー** - 入力テキストをC++で処理して返す ✅ 完了
- [ ] **04. 時計アプリ** - C++からJSへの定期的なデータ送信
- [ ] **05. カラーピッカー** - 色選択とRGB値の相互変換
- [ ] **06. 電卓** - 四則演算をC++で処理
- [ ] **07. メモ帳** - テキストの保存・読み込み（ファイルI/O）
- [ ] **08. TODOリスト** - 追加・削除・完了状態の管理
- [ ] **09. ストップウォッチ** - タイマー機能とイベント処理
- [ ] **10. 画像ビューア** - ローカル画像の表示とBase64変換

### 応用編（11-20）
- [ ] **11. マークダウンプレビュー** - リアルタイムプレビュー機能
- [ ] **12. JSONエディタ** - JSON解析と整形表示
- [ ] **13. ファイルエクスプローラー** - ディレクトリ構造の表示
- [ ] **14. システム情報** - CPU/メモリ使用率の表示
- [ ] **15. 天気アプリ** - Web APIとの連携
- [ ] **16. 音楽プレイヤー** - 音声ファイルの再生制御
- [ ] **17. 描画キャンバス** - Canvas APIとC++の連携
- [ ] **18. CSVビューア** - 表形式データの解析と表示
- [ ] **19. 暗号化ツール** - 文字列の暗号化・復号化
- [ ] **20. データベースビューア** - SQLiteとの連携

### 発展編（21-30）
- [ ] **21. チャットアプリ** - WebSocketを使った通信
- [ ] **22. コードエディタ** - シンタックスハイライト機能
- [ ] **23. PDFビューア** - PDF表示とページ制御
- [ ] **24. スクリーンショット** - 画面キャプチャ機能
- [ ] **25. タスクマネージャー** - プロセス一覧と管理
- [ ] **26. ネットワークモニター** - 通信状況の可視化
- [ ] **27. 動画プレイヤー** - 動画再生と制御
- [ ] **28. 3Dビューア** - WebGLとC++の連携
- [ ] **29. プラグインシステム** - 動的な機能拡張
- [ ] **30. 統合開発環境** - 複数機能を組み合わせた総合アプリ

### 進捗記録
- **2025-01-07**: プロジェクト開始、01 Hello Worldアプリ完成
  - 基本的なWebview表示を実装
  - CMakeでのビルドシステム構築
  - Google Testを使用したテスト環境の整備
- **2025-01-08**: 02 カウンターアプリ完成、03 テキストエコーアプリ完成
  - JavaScript↔C++の双方向通信を実装
  - webview::bindを使用したカウンター機能
  - TDDサイクルでの開発を実践
  - テキストエコーアプリで文字列処理とUTF-8対応を実装